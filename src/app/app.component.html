<main
  class="root__container"
  [ngClass]="{ 'root__container-dark': darkModeActive }"
>
  <header
    [ngClass]="{ 'main__header-dark': darkModeActive }"
    class="main__header"
  >
    <div class="left__section">
      <svg class="logo__icon" viewBox="150.3 22.2 213.7 42.8">
        <path
          fill="#00ff9b"
          d="M150.3 65L170 22.2L193 65z"
          data-name="Path 1"
        ></path>
        <path
          fill="#003eff"
          d="M213.5 65h-42.8L193.1 22.2z"
          data-name="Path 2"
        ></path>
        <text
          [ngClass]="{ 'logo__text-dark': darkModeActive }"
          class="logo__text"
          fill="#432c85"
          font-family="SegoeUI-Semibold,Segoe UI"
          font-size="30"
          font-weight="600"
          letter-spacing=".1em"
          transform="translate(220 56)"
        >
          <tspan x="0" y="0">Misty</tspan>
        </text>
      </svg>
    </div>

    <h3 class="date__text">Today</h3>

    <div class="mode-toggle__container">
      <span class="mode-toggle__text">Light</span>

      <label class="toggle-button__container">
        <input
          (click)="modeToggleSwitch()"
          type="checkbox"
          class="mode-toggle__input"
        />
        <span
          [ngClass]="{ 'mode-toggle__bg-checked': darkModeActive }"
          class="mode-toggle__bg"
        ></span>
        <span
          [ngClass]="{ 'mode-toggle__circle-checked': darkModeActive }"
          class="mode-toggle__circle"
        ></span>
      </label>

      <span class="mode-toggle__text">Dark</span>
    </div>
  </header>
  <section class="main__container">
    <div class="card" *ngIf="weatherData">
      <div class="search-box">
        <i-lucide name="map-pin" class="my-icon"></i-lucide>
        <form #form="ngForm" (ngSubmit)="onSearch()">
          <input
            type="text"
            name="location"
            placeholder="Enter your location"
            [(ngModel)]="locationName"
            autofocus
          />
          <button type="submit">
            <i-lucide name="search" class="my-icon"></i-lucide>
          </button>
        </form>
      </div>

      <div
        class="not-found"
        [ngClass]="{ fadeIn: error404 }"
        [ngStyle]="error404 ? { display: 'block' } : null"
      >
        <img src="../assets/404.png" />
        <p>Oops! Invalid location :/</p>
      </div>

      <div class="weather-box" [ngClass]="{ faded: error404 }">
        <img src="{{ currentWeatherImg }}" />
        <p class="temperature">
          {{ weatherData.main.temp | number : "1.0-0" }}<span>Â°C</span>
        </p>
        <p class="description">{{ weatherData.weather[0].description }}</p>
      </div>

      <div class="weather-details" [ngClass]="{ faded: error404 }">
        <div class="humidity">
          <i-lucide name="waves" class="my-icon"></i-lucide>
          <div class="text">
            <span>{{ weatherData.main.humidity }}%</span>
            <p>Humidity</p>
          </div>
        </div>
        <div class="wind">
          <i-lucide name="wind" class="my-icon"></i-lucide>
          <div class="text">
            <span>{{ weatherData.wind.speed }}Km/h</span>
            <p>Wind Speed</p>
          </div>
        </div>
      </div>
    </div>
  </section>
</main>

<router-outlet></router-outlet>
